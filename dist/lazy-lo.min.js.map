{"version":3,"sources":["lazy-lo.js"],"names":["lazylo","lazylo_image","view_elements","reveal","count","length","offsetParentTop","temp","isNaN","offsetTop","offsetParent","pageYOffset","window","viewportHeight","innerHeight","offsetParentLeft","offsetLeft","pageXOffset","viewportWidth","innerWidth","src","getAttribute","onload","this","setAttribute","splice","addEventListener","lazylo_list_maker","elements","document","querySelectorAll","push","source_url","intervalObject","setInterval","clearInterval"],"mappings":"CAAA,WACE,GAAIA,KAEJA,GAAOC,aAAe,qFAEtBD,EAAOE,iBAEPF,EAAOG,OAAS,WACd,IAAK,GAAIC,GAAQ,EAAGA,EAAQJ,EAAOE,cAAcG,OAAQD,IAAS,CAChE,GAAIE,GAAkB,EAClBC,EAAOP,EAAOE,cAAcE,EAEhC,GACOI,OAAMD,EAAKE,aACdH,GAAmBC,EAAKE,iBAEnBF,EAAOA,EAAKG,aAErB,IAAIC,GAAcC,OAAOD,YACrBE,EAAiBD,OAAOE,YAExBC,EAAmB,EACnBR,EAAOP,EAAOE,cAAcE,EAEhC,GACOI,OAAMD,EAAKS,cACdD,GAAoBR,EAAKS,kBAEpBT,EAAOA,EAAKG,aAErB,IAAIO,GAAcL,OAAOK,YACrBC,EAAgBN,OAAOO,UAEvBb,GAAkBK,GAAiCA,EAAcE,EAAhCP,GAAkDS,EAAmBE,GAAkCA,EAAcC,EAAjCH,IACvHf,EAAOE,cAAcE,GAAOgB,IAAMpB,EAAOE,cAAcE,GAAOiB,aAAa,mBAC3ErB,EAAOE,cAAcE,GAAOkB,OAAS,WACnCC,KAAKC,aAAa,oBAAqB,WAEzCxB,EAAOE,cAAcuB,OAAOrB,EAAO,GACnCA,OAKNQ,OAAOc,iBAAiB,SAAU1B,EAAOG,QAAQ,GACjDS,OAAOc,iBAAiB,SAAU1B,EAAOG,QAAQ,GAEjDH,EAAO2B,kBAAoB,WAGzB,IAAK,GAFDC,GAAWC,SAASC,iBAAiB,wCAEhC1B,EAAQ,EAAGA,EAAQwB,EAASvB,OAAQD,IAAS,CACpDJ,EAAOE,cAAc6B,KAAKH,EAASxB,IACnCwB,EAASxB,GAAOoB,aAAa,cAAe,QAE5C,IAAIQ,GAAaJ,EAASxB,GAAOgB,GAEjCQ,GAASxB,GAAOoB,aAAa,kBAAmBQ,GAChDJ,EAASxB,GAAOoB,aAAa,oBAAqB,WAElDI,EAASxB,GAAOgB,IAAMQ,EAASxB,GAAOiB,aAAa,4BAA8BrB,EAAOC,eAI5FD,EAAOiC,eAAiBC,YAAY,WAClClC,EAAO2B,qBACN,IAEHf,OAAOc,iBAAiB,OAAQ,WAC9BS,cAAcnC,EAAOiC,gBACrBjC,EAAO2B,oBACP3B,EAAOG,WACN","file":"lazy-lo.min.js","sourcesContent":["(function() {\n  var lazylo = {};\n\n  lazylo.lazylo_image = \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\";\n\n  lazylo.view_elements = [];\n\n  lazylo.reveal = function() {\n    for (var count = 0; count < lazylo.view_elements.length; count++) {\n      var offsetParentTop = 0;\n      var temp = lazylo.view_elements[count];\n\n      do {\n        if (!isNaN(temp.offsetTop)) {\n          offsetParentTop += temp.offsetTop;\n        }\n      } while (temp = temp.offsetParent)\n\n      var pageYOffset = window.pageYOffset;\n      var viewportHeight = window.innerHeight;\n\n      var offsetParentLeft = 0;\n      var temp = lazylo.view_elements[count];\n\n      do {\n        if (!isNaN(temp.offsetLeft)) {\n          offsetParentLeft += temp.offsetLeft;\n        }\n      } while (temp = temp.offsetParent);\n\n      var pageXOffset = window.pageXOffset;\n      var viewportWidth = window.innerWidth;\n\n      if (offsetParentTop > pageYOffset && offsetParentTop < pageYOffset + viewportHeight && offsetParentLeft > pageXOffset && offsetParentLeft < pageXOffset + viewportWidth) {\n        lazylo.view_elements[count].src = lazylo.view_elements[count].getAttribute(\"data-lazylo-src\");\n        lazylo.view_elements[count].onload = function() {\n          this.setAttribute(\"data-lazylo-state\", \"loaded\");\n        };\n        lazylo.view_elements.splice(count, 1);\n        count--;\n      }\n    }\n  };\n\n  window.addEventListener(\"resize\", lazylo.reveal, false);\n  window.addEventListener(\"scroll\", lazylo.reveal, false);\n\n  lazylo.lazylo_list_maker = function() {\n    var elements = document.querySelectorAll(\"img[data-lazylo][data-lazylo='true']\");\n\n    for (var count = 0; count < elements.length; count++) {\n      lazylo.view_elements.push(elements[count]);\n      elements[count].setAttribute(\"data-lazylo\", \"false\");\n\n      var source_url = elements[count].src;\n\n      elements[count].setAttribute(\"data-lazylo-src\", source_url);\n      elements[count].setAttribute(\"data-lazylo-state\", 'waiting');\n\n      elements[count].src = elements[count].getAttribute(\"data-lazylo-placeholder\") || lazylo.lazylo_image;\n    }\n  };\n\n  lazylo.intervalObject = setInterval(function() {\n    lazylo.lazylo_list_maker();\n  }, 50);\n\n  window.addEventListener(\"load\", function() {\n    clearInterval(lazylo.intervalObject);\n    lazylo.lazylo_list_maker();\n    lazylo.reveal();\n  }, false);\n})()\n"],"sourceRoot":"/source/"}